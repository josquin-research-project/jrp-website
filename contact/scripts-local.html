<script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.getElementById("feedback-form");
  const statusEl = document.getElementById("status");

  form.addEventListener("submit", function (event) {
    const category = form.querySelector("#feedback_category").value;
    const description = form.querySelector("#feedback_description").value.trim();

    if (!category || !description) {
      event.preventDefault();
      statusEl.className = "feedback-status feedback-status--error";
      statusEl.textContent = "Please complete all required fields.";
      return;
    }

    form.querySelector('[name="entry.270859303"]').value = window.location.href;
    form.querySelector('[name="entry.2136692707"]').value = navigator.userAgent;

    statusEl.textContent = "Submitting feedbackâ€¦";

    setTimeout(() => {
      form.reset();
      statusEl.className = "feedback-status feedback-status--success";
      statusEl.textContent = "Thank you for your feedback.";
    }, 300);
  });
});
</script>